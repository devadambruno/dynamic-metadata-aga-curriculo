#:schema node_modules/wrangler/config-schema.json

# Nome do Worker (como aparece no painel do Cloudflare)
name = "metadadinamico"

# Arquivo principal (mantém o mesmo)
main = "src/index.ts"

# Data de compatibilidade com as APIs do Cloudflare
compatibility_date = "2024-04-19"

# Habilita o suporte a Node.js dentro do Worker
compatibility_flags = ["nodejs_compat"]

###########################################################
# OBSERVABILITY (Logs e Traces)
###########################################################

[observability]
# O campo geral pode ficar como true pra ativar tudo
enabled = true

[observability.logs]
# Ativa logs em tempo real no painel do Cloudflare
enabled = true
# Coleta 100% das requisições (0 a 1)
head_sampling_rate = 1
# Persiste os logs para consulta posterior
persist = true
# Mostra logs de cada invocação no painel
invocation_logs = true

[observability.traces]
# Mantém desativado — não é necessário para debugging atual
enabled = false
persist = false
head_sampling_rate = 1
